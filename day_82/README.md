# Day 82

この記事はQuine Advent Calendar 2014の82日目です。最近やけに疲れてるような気がします。今も眠い。

今日はMercuryで書いたQuineです。Mercuryは静的型付けの論理型言語です。静的型付けの論理型言語といったら、以前にQuineを書いたCurryがありますが、CurryがHaskell寄りなのに対してMercuryはPrologよりです。ただ、MercuryはIOの扱いにくせがあって、Cleanの一意型のような方法で入出力を表現します。JVMや.Net、Erlang向けにもコンパイルできたりしてかなり面白いのですが、この言語を使いこなすのは簡単ではない気がします。

それと、拡張子がMirandaと同じ`.m`で被っています。一文字拡張子嫌いじゃない（むしろ好きなくらい）のですが、被るのは勘弁してほしいものです。

Quineは気合いで書きました。`io.format`のフォーマット部分と引数部分に同じ変数`S`を入れたら単一化でおかしくなりそうだな、と思っていたら案の定おかしくなって、結果文字列リテラルを二回書いています。それでもformat系の関数（この場合は述語）はQuineに便利ですね。

```console
$ mmc --make quine
$ diff quine.m <(./quine)
```
